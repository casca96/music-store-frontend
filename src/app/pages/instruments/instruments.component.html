<h2>Musical Instruments</h2>

<div class="mb-4">
  <div class="btn-group" role="group" aria-label="Instrument categories">
    <button type="button" class="btn btn-outline-primary"
            [class.active]="selectedCategory === ''"
            (click)="filterByCategory('')">
      All
    </button>
    <button *ngFor="let category of categories"
            type="button"
            class="btn btn-outline-primary"
            [class.active]="selectedCategory === category"
            (click)="filterByCategory(category)">
      {{ category }}
    </button>
  </div>
</div>

<div *ngIf="loading" class="text-center">
  <div class="spinner-border" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>

<div *ngIf="error" class="alert alert-danger">
  {{ error }}
</div>

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
  <div class="col" *ngFor="let instrument of instruments">
    <div class="card h-100">
      <img src="https://images.unsplash.com/photo-1511192336575-5a79af67a629?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1472&q=80" class="card-img-top" alt="{{ instrument.name }}">
      <div class="card-body">
        <h5 class="card-title">{{ instrument.name }}</h5>
        <h6 class="card-subtitle mb-2 text-muted">{{ instrument.manufacturer }}</h6>
        <p class="card-text">{{ instrument.description }}</p>
        <p><strong>Price:</strong> ${{ instrument.price.toFixed(2) }}</p>
        <p><strong>Category:</strong> {{ instrument.category }}</p>
        <p><strong>In Stock:</strong> {{ instrument.stock }}</p>
        <div class="d-flex justify-content-between align-items-center">
          <small class="text-muted">Rating: {{ instrument.rating }}/5</small>
        </div>
      </div>
    </div>
  </div>
</div>
